<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tic Tac Toe Project</title>
    <style>
        .box{
            width: 60px;
            height: 60px;
            text-align: center;
            font-weight: bold;
        }
    </style>

    <script>
//start() is just the state I want the game at when you load the page
        function start(){
            for(var x = 1; x <= 9; x = x + 1){
                clearSquare(x);
            }

            document.turn = "X";
            if(Math.random() < 0.5){
                document.turn = "O";
            }

            document.win = null;

            setMessage(document.turn + " goes first.");
        }
//next() is a function meant to show the text in the box (x or o)
        function next(box){
            if(document.win != null){
                setMessage(document.turn + " has won. Get over it!!!");
            }
            else if(box.innerText == "") {
                box.innerText = document.turn;
                switchPlayer();
            }
            else{
                setMessage("You can't use that square.");
            }
        }
//switchPlayer() is used to cycle to the other player after one player goes
        function switchPlayer(){
            if(winner(document.turn)){
            setMessage(document.turn + " Wins!!!");
            document.win = document.turn;
            }

            else if(document.turn == "X"){
                document.turn = "O";
                setMessage("It's " + document.turn + "'s turn to go.");
            }
            else{
                document.turn = "X";
                setMessage("It's " + document.turn + "'s turn to go.");
            }
        }

        function setMessage(x){
            document.getElementById("message").innerText = x;
        }

        function checkForWin(x, y, z, move){
            var win = false;

            if(getSquare(x) == move && getSquare(y) == move && getSquare(z) == move){
                win = true;
            }
            return win;
        }

        function getSquare(num){
            return document.getElementById("b" + num).innerText;
        }

        function winner(move){
            var result = false;
            if(checkForWin(1,2,3,move) ||
                checkForWin(4,5,6,move) ||
                checkForWin(7,8,9,move) ||
                checkForWin(1,4,7,move) ||
                checkForWin(2,5,8,move) ||
                checkForWin(3,6,9,move) ||
                checkForWin(1,5,9,move) ||
                checkForWin(3,5,7,move)){
                result = true;
            }
            return result;
        }

        function clearSquare(number){
            document.getElementById("b" + number).innerText = "";
        }

    </script>
</head>
<body onload="start();">
    <h1>Prototype Tic Tac Toe</h1>
        <div id="message">Player's Turn Goes Here.</div>
        <table border="1">
            <tr>
                <td id="b1" class="box" onclick="next(this)"></td>
                <td id="b2" class="box" onclick="next(this)"></td>
                <td id="b3" class="box" onclick="next(this)"></td>
            </tr>
            <tr>
                <td id="b4" class="box" onclick="next(this)"></td>
                <td id="b5" class="box" onclick="next(this)"></td>
                <td id="b6" class="box" onclick="next(this)"></td>
            </tr>
            <tr>
                <td id="b7" class="box" onclick="next(this)"></td>
                <td id="b8" class="box" onclick="next(this)"></td>
                <td id="b9" class="box" onclick="next(this)"></td>
            </tr>
        </table>
    <button type="button" onclick="start()">Clear</button>
</body>
</html>